<!-- src/app/components/contact-dependents/contact-dependents.component.html -->
<div class="tab-content">
  <!-- Contact -->
  <div class="form-section" [formGroup]="contactForm">
    <h2>Contact</h2>
    <div class="form-row">
      <div class="form-group">
        <label for="email">Email</label>
        <input type="email" id="email" formControlName="email">
        <div class="error-message"
              *ngIf="contactForm.get('email')?.invalid &&
                    contactForm.get('email')?.touched">
          Invalid email
        </div>
      </div>
      <div class="form-group">
        <label for="phone1">Phone 1</label>
        <input type="tel" id="phone1" formControlName="phone1">
      </div>
    </div>
    <div class="form-row">
      <div class="form-group">
        <label for="phone2">Phone 2</label>
        <input type="tel" id="phone2" formControlName="phone2">
      </div>
      <div class="form-group">
        <label for="phone3">Phone 3</label>
        <input type="tel" id="phone3" formControlName="phone3">
      </div>
    </div>
    <div class="form-row">
      <div class="form-group">
        <label for="spouse">Spouse</label>
        <input type="text" id="spouse" formControlName="spouse">
      </div>
      <div class="form-group">
        <label for="spouseBirthDate">Spouse Birth Date</label>
        <input type="date" id="spouseBirthDate" formControlName="spouseBirthDate">
      </div>
    </div>
  </div>

  <!-- Dependents -->
  <div class="form-section">
    <h2>Dependents</h2>
    <div class="dependents-container">
      @for (dependent of dependents.controls; track $index) {
        <div class="dependente-item" [formGroup]="$any(dependent)">
          <div class="form-row">
            <div class="form-group">
              <label [for]="'dependentName' + $index">Name <span class="required">*</span></label>
              <input type="text" [id]="'dependentName' + $index" formControlName="name">
              <div class="error-message"
                  *ngIf="dependent.get('name')?.invalid &&
                        dependent.get('name')?.touched">
                Dependent name is required
              </div>
            </div>
            <div class="form-group">
              <label [for]="'dependentBirthDate' + $index">Birth Date</label>
              <input type="date" [id]="'dependentBirthDate' + $index" formControlName="birthDate">
            </div>
            <div class="form-group action-group">
              <button type="button" class="btn-remove" (click)="removeDependent($index)" aria-label="Remove dependent">
                <span class="icon">âœ–</span>
              </button>
            </div>
          </div>
        </div>
      }

      <div class="add-dependent">
        <button type="button" class="btn-add" (click)="addDependent()">
          <span class="icon">+</span> Add Dependent
        </button>
      </div>
    </div>
  </div>
</div>
